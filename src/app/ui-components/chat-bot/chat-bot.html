<div class="chat-bot-container" [class.open]="isChatOpen">
  <!-- Chat toggle button -->
  <button class="chat-toggle" (click)="toggleChat()" [class.open]="isChatOpen">
    <span class="chat-icon" *ngIf="!isChatOpen">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
      </svg>
    </span>
    <span class="close-icon" *ngIf="isChatOpen">Ã—</span>
  </button>

  <!-- Chat window -->
  <div class="chat-window" *ngIf="isChatOpen">
    <div class="chat-header">
      <h3>Chat with Portfolio Bot</h3>
    </div>

    <div class="chat-messages">
      <div *ngFor="let message of messages" 
           class="message" 
           [class.user-message]="message.isUser"
           [class.bot-message]="!message.isUser">
        <div class="message-content">{{ message.text }}</div>
        <div class="message-time">{{ message.timestamp | date:'shortTime' }}</div>
      </div>
    </div>

    <div class="chat-input">
      <input type="text" 
             [(ngModel)]="userInput" 
             (keyup.enter)="sendMessage()"
             placeholder="Type your message...">
      <button (click)="sendMessage()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="22" y1="2" x2="11" y2="13"></line>
          <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
        </svg>
      </button>
    </div>
  </div>
</div> 